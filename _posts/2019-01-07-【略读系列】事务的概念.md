---
layout: post
title: 【略读系列】事务的概念
date: 2019-01-07 20:55:10.000000000 +09:00
tags: 略读系列 分布式事务
---

### 写在前面
由于今天晚上和Tony老师聊了一会天，导致今天学习的东西有点少。但还是需要总结一下的

### 阅读内容
- [分布式事务解决方案](https://juejin.im/post/5aa3c7736fb9a028bb189bca)
- [关于事务ACID的回答](https://www.zhihu.com/question/31346392)

### 总结
1. 为什么需要有分布式事务？
答：随着微服务架构趋势，各个系统可能有着各自独立的数据库。而现在的数据库系统是不支持跨数据库事务的，他们只支持本地事务。
2. 什么是本地事务？
答：本地事务是指同一数据库中的一组操作集合，当其中某个操作出现问题时，需要回滚前面的操作行为。也就是说事务一定是一起成功，或者一起失败。
3. 事务的ACID？
答：参考两篇文章的回答。A是原子性，表示事务要么一起提交，要么一起失败。深入一点就是，记录之前的版本，允许回滚。C是一致性，一个回答说事务开始和结束不会破坏数据的完整性约束，有道理。还有一个回答是事务的开始到结束的中间状态不会被其他事务看到。I是隔离性，古板的回答估计也是事务的执行是相互独立的，它们不会相互干扰，一个事务不会看到另一个正在运行过程中的事务的数据。而沈询大大给的回答是：**适当的破坏一致性来提升性能和并行度**。D是持久性，指的就是事务一旦提交，就不会出现数据丢失。
4. 事务的隔离级别？
答：数据库中要求的隔离性是强隔离，但正如那句话说的**适当的破坏一致性来提升性能和并行度**。所以其实隔离性是分为好几个级别的，读未提交，读已提交，重复读，串行化。这里我想这样写，读写事务之间的锁共享。主要会有：**更新丢失**，**脏读**，**重复读**，**幻读**等情况出现。读未提交：写写事务没有锁就会出现更新丢失。读已提交：未提交的写事务不允许读事务进入，即可保证不会出现脏读。重复读：读事务不允许写事务进入，即可保证不会出现同一事务两次读到不同的数据的情况。串行：所有事务都必须串行执行。
